<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="../Images/logo_oso.png" />
    <link rel="stylesheet" href="../CSS/table.css" />
    <link rel="stylesheet" href="../CSS/nav.css" />
    <link rel="stylesheet" href="../CSS/header.css" />
    <link rel="stylesheet" href="../CSS/main.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Equipo 13</title>
  </head>
  <body>
    <link rel="stylesheet" href="../CSS/todoList.css" />
    <header>
      <img src="../Images/fime.gif" alt="Logo Fime" />
      <h1>Universidad Autónoma de Nuevo León</h1>
      <img src="../Images/uanl.png" alt="Logo UANL" />
    </header>
    <nav>
      <ul id="nav">
        <li><a href="../index.html">Início</a></li>
        <li><a href="./Practica_01.html">Práctica #1</a></li>
        <li><a href="./Practica_02.html">Práctica #2</a></li>
        <li><a href="./Practica_03.html">Práctica #3</a></li>
        <li><a href="./Practica_04.html">Práctica #4</a></li>
        <li><a href="./Practica_05.html">Práctica #5</a></li>
        <li><a href="./Practica_06.html">Práctica #6</a></li>
        <li>
          <a class="seleccionada" href="./Practica_07.html">Práctica #7</a>
        </li>
        <li><a href="./Practica_08.html">Práctica #8</a></li>
      </ul>
    </nav>
    <div class="content">
      <h2 align="center">Lista de Tareas</h2>
      <h3>Instrucciones</h3>
      <ol>
        <li>Agrega una tarea en el campo de texto</li>
        <li>Pica en el botón/Enter para agregar la tarea a la lista</li>
        <li>Arrastra la tarea a la sección de Terminado cuando se termine</li>
        <li>Disfruta!</li>
      </ol>
      <div class="parent">
        <div class="child">
          <h3 align="center">Pendientes</h3>
          <ul id="todo">
            <li draggable="true" ondragstart="drag(event)">Tarea 1</li>
            <li draggable="true" ondragstart="drag(event)">Tarea 3</li>
          </ul>
          <input type="text" id="tarea-nueva" placeholder="Nueva Tarea" />
          <input type="button" value="+" onclick="agregarTarea()" />
        </div>
        <div class="child">
          <h3 align="center">Terminadas</h3>
          <ul id="done" ondrop="drop(event)" ondragover="allowDrop(event)"></ul>
        </div>
      </div>
      <h2>Conclusiones</h2>
      <h3>Gabriel Oliveira Galvão do Vale -1889469</h3>
      <p>
        Esa actividad fue la más retadora hasta ahora. Tuve que aplicar
        <b>MUCHO</b> javascript para varias partes:
      </p>
      <ul>
        <li>Manejar estado de la lista através de IDs</li>
        <li>Mandar y recibir información a través de eventos</li>
        <li>Agregar y eliminar elementos de una lista</li>
        <li>Agregar elementos a través de click de botones y la tecla Enter</li>
      </ul>
      <p>
        Fue muy divertido trabajar con eso, y el trabajo duro nos permitió hacer
        una aplicación bien padre.
      </p>
      <br>
      <h3>Leonardo Alberto Reyes Silva-1651833</h3>
      <p> Esta actividad al principio parecia algo dificil de hacer, a pesar de que si fue dificil solo era tener en claro
        que habia que aplicar java script para que por medio de eventos se pudieramos realizar las acciones, utilizando CSS pudimos darle un gran estilo
        y asi hacer que algo tan sencillo se vea padre, fue muy divertido trabajar en esta actividad.
      </p>
      <br>
      <h3>Luis Manuel Donias Lugo 1449006</h3>
      <p> Para esta actividad se utilizo Java script se torno un poco dificil ya que por la necesidad de eventos utilizamos ese lenguaje
        y con la ayuda de CSS pudimos darle otra mejor  perpectiva.
      </p>
    </div>
  </body>
  <script>
    let input = document.getElementById("tarea-nueva");
    input.addEventListener("keyup", function (event) {
      // Number 13 is the "Enter" key on the keyboard
      if (event.keyCode === 13) {
        event.preventDefault();
        agregarTarea();
      }
    });
    function agregarTarea() {
      let tarea = document.getElementById("tarea-nueva");
      if (tarea.value) {
        let li = document.createElement("li");
        let ul = document.getElementById("todo");

        li.setAttribute("draggable", "true");
        li.setAttribute("ondragstart", "drag(event)");

        li.appendChild(document.createTextNode(tarea.value));
        ul.appendChild(li);
        tarea.value = "";
      }
    }
    function removerTarea() {
      let ul = document.querySelector("#todo");
      let index = [...ul.childNodes].findIndex((item) => item.id === "this");
      ul.removeChild(ul.childNodes[index]);
    }

    function allowDrop(ev) {
      ev.preventDefault();
    }
    function drag(ev) {
      // Limpiar el id de todos los elementos
      let li = document.querySelector("#todo").childNodes;
      Array.prototype.slice.call(li).map((item) => (item.id = ""));
      ev.target.id = "this";
      ev.dataTransfer.setData("text", ev.target.textContent);
    }
    function drop(ev) {
      ev.preventDefault();
      let data = ev.dataTransfer.getData("text");
      if (data) {
        let li = document.createElement("li");
        li.appendChild(document.createTextNode(data));

        let ul = document.getElementById("done");
        ul.appendChild(li);
        removerTarea();
      }
    }
  </script>
</html>
